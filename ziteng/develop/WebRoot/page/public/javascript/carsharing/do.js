var domain=window.domain="http://www.aapinche.cn",resdomain=window.resdomain="http://res.aapinche.cn";(function(b){var B=b.M,o="UseLocalXHR",k="AlwaysPreserveOrder",i="AllowDuplicates",q="CacheBust",d="Debug",t="BasePath",s=/^[^?#]*\//.exec(location.href)[0],p=/^\w+\:\/\/\/?[^\/]+/.exec(s)[0],a=document.head||document.getElementsByTagName("head"),y=b.opera&&Object.prototype.toString.call(b.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,c=function(){},r=c,f=document.createElement("script"),l=typeof f.preload=="boolean",g=l||f.readyState&&f.readyState=="uninitialized",j=!g&&f.async===true,x=!g&&!j&&!y;if(b.console&&b.console.log){if(!b.console.error)b.console.error=b.console.log;c=function(a){b.console.log(a)};r=function(c,a){b.console.error(c,a)}}function v(a){return Object.prototype.toString.call(a)=="[object Function]"}function u(a){return Object.prototype.toString.call(a)=="[object Array]"}function A(a,c){var b=/^\w+\:\/\//;if(/^\/\/\/?/.test(a))a=location.protocol+a;else if(!b.test(a)&&a.charAt(0)!="/")a=(c||"")+a;return b.test(a)?a:(a.charAt(0)=="/"?p:s)+a}function h(a,c){for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b];return c}function w(b){for(var c=false,a=0;a<b.scripts.length;a++)if(b.scripts[a].ready&&b.scripts[a].exec_trigger){c=true;b.scripts[a].exec_trigger();b.scripts[a].exec_trigger=null}return c}function e(a,b,d,c){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||b[d])return;a.onload=a.onreadystatechange=null;c()}}function m(a){a.ready=a.finished=true;for(var b=0;b<a.finished_listeners.length;b++)a.finished_listeners[b]();a.ready_listeners=[];a.finished_listeners=[]}function z(b,i,h,f,k){setTimeout(function(){var m,n=i.real_src,q;if("item"in a){if(!a[0]){setTimeout(arguments.callee,25);return}a=a[0]}m=document.createElement("script");if(i.type)m.type=i.type;if(i.charset)m.charset=i.charset;if(k)if(g){b[d]&&c("start script preload: "+n);h.elem=m;if(l){m.preload=true;m.onpreload=f}else m.onreadystatechange=function(){m.readyState=="loaded"&&f()};m.src=n}else if(k&&n.indexOf(p)==0&&b[o]){q=new XMLHttpRequest;b[d]&&c("start script preload (xhr): "+n);q.onreadystatechange=function(){if(q.readyState==4){q.onreadystatechange=function(){};h.text=q.responseText+"\n//@ sourceURL="+n;f()}};q.open("GET",n);q.send()}else{b[d]&&c("start script preload (cache): "+n);m.type="text/cache-script";e(m,h,"ready",function(){a.removeChild(m);f()});m.src=n;a.insertBefore(m,a.firstChild)}else if(j){b[d]&&c("start script load (ordered async): "+n);m.async=false;e(m,h,"finished",f);m.src=n;a.insertBefore(m,a.firstChild)}else{b[d]&&c("start script load: "+n);e(m,h,"finished",f);m.src=n;a.insertBefore(m,a.firstChild)}},0)}function n(){var f={},C=g||x,l=[],p={},j;f[o]=true;f[k]=false;f[i]=false;f[q]=false;f[d]=false;f[t]="";function y(g,d,c){var b;function f(){if(b!=null){b=null;m(c)}}if(p[d.src].finished)return;if(!g[i])p[d.src].finished=true;b=c.elem||document.createElement("script");if(d.type)b.type=d.type;if(d.charset)b.charset=d.charset;e(b,c,"finished",f);if(c.elem)c.elem=null;else if(c.text){b.onload=b.onreadystatechange=null;b.text=c.text}else b.src=d.real_src;a.insertBefore(b,a.firstChild);c.text&&f()}function D(d,a,g,f){var b,c,h=function(){a.ready_cb(a,function(){y(d,a,b)})},e=function(){a.finished_cb(a,g)};a.src=A(a.src,d[t]);a.real_src=a.src+(d[q]?(/\?.*$/.test(a.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":"");if(!p[a.src])p[a.src]={items:[],finished:false};c=p[a.src].items;if(d[i]||c.length==0){b=c[c.length]={ready:false,finished:false,ready_listeners:[h],finished_listeners:[e]};z(d,a,b,f?function(){b.ready=true;for(var a=0;a<b.ready_listeners.length;a++)b.ready_listeners[a]();b.ready_listeners=[]}:function(){m(b)},f)}else{b=c[0];if(b.finished)e();else b.finished_listeners.push(e)}}function s(){var b,i=h(f,{}),a=[],g=0,j=false,e;function o(a,b){i[d]&&c("script preload finished: "+a.real_src);a.ready=true;a.exec_trigger=b;l()}function n(a,b){i[d]&&c("script execution finished: "+a.real_src);a.ready=a.finished=true;a.exec_trigger=null;for(var e=0;e<b.scripts.length;e++)if(!b.scripts[e].finished)return;b.finished=true;l()}function l(){while(g<a.length){if(v(a[g])){i[d]&&c("$LAB.run() executing: "+a[g]);try{a[g++]()}catch(b){i[d]&&r("$LAB.run() error caught: ",b)}continue}else if(!a[g].finished){if(w(a[g]))continue;break}g++}if(g==a.length){j=false;e=false}}function m(){(!e||!e.scripts)&&a.push(e={scripts:[],finished:true})}b={script:function(){for(var a=0;a<arguments.length;a++)(function(a,d){var f;if(!u(a))d=[a];for(var c=0;c<d.length;c++){m();a=d[c];if(v(a))a=a();if(!a)continue;if(u(a)){f=[].slice.call(a);f.unshift(c,1);[].splice.apply(d,f);c--;continue}if(typeof a=="string")a={src:a};a=h(a,{ready:false,ready_cb:o,finished:false,finished_cb:n});e.finished=false;e.scripts.push(a);D(i,a,e,C&&j);j=true;i[k]&&b.run()}})(arguments[a],arguments[a]);return b},run:function(){if(arguments.length>0){for(var c=0;c<arguments.length;c++)a.push(arguments[c]);e=a[a.length-1]}else e=false;l();return b},using:function(a){return b.script(domain+"/res/js/"+a.replace(".","/")+".js")}};return{script:b.script,run:b.run,using:b.using,setOptions:function(a){h(a,i);return b}}}j={setGlobalDefaults:function(a){h(a,f);return j},setOptions:function(){return s().setOptions.apply(null,arguments)},script:function(){return s().script.apply(null,arguments)},run:function(){return s().run.apply(null,arguments)},using:function(){return s().using.apply(null,arguments)},queueUsing:function(){l[l.length]={type:"using",args:[].slice.call(arguments)};return j},queueRun:function(){l[l.length]={type:"run",args:[].slice.call(arguments)};return j},runQueue:function(){for(var b=j,c=l.length,d=c,a;--d>=0;){a=l.shift();b=b[a.type].apply(null,a.args)}return b},noConflict:function(){b.M=B;return j},sandbox:function(){return n()}};return j}b.M=n();(function(b,a,c){if(document.readyState==null&&document[b]){document.readyState="loading";document[b](a,c=function(){document.removeEventListener(a,c,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this)