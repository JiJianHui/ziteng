(function(d,m){if(d.M){return}var i=d.M={};var x=true,ad=false,W=0,B=0,D=1,T=2,F=String.prototype,o=Array.prototype,h=Object.prototype,n=Function.prototype,j=F.trim,L=o.map,aa=o.some,ai=o.every,N=o.slice,k=o.filter,t=o.forEach,V=o.indexOf,P=o.lastIndexOf,z=n.bind;i.error=function(M){throw new TypeError(M)};i.log=function(){if("console" in d&&typeof d.console.log=="function"){return d.console.log.apply(d.console,arguments)}};i.info=function(){if("console" in d){if(typeof d.console.info=="function"){return d.console.info.apply(d.console,arguments)}else{if(typeof d.console.log=="function"){return d.console.log.apply(d.console,arguments)}}}};i.debug=function(){if(i.config.debug){return i.log.apply(i,arguments)}};var ac=function(){},I=function(){W++;return W},y=function(aj,M){M=M.substr(0,1).toUpperCase()+M.substr(1);return{}.toString.call(aj)=="[object "+M+"]"},Y=function(M){return M===null},s=function(M){return M===m},v=function(M){return y(M,"Array")},S=function(M){return typeof M=="object"&&!Y(M)},p=function(M){return typeof M==="function"},H=function(aj){if(!S(aj)){return ad}for(var M in aj){if(aj.hasOwnProperty(M)){return ad}}return x},r=function(M){return M===""||(v(M)&&M.length===0)||H(M)},a=function(M){if(j){return j.call(M)}else{return M.replace(/^\s+|\s+$/g,"")}},A=function(ak,an,al){if(L){return L.call(ak,an,al)}else{if(Y(ak)||s(ak)){i.error("Array.prototype.map called on null or undefined")}else{if(!p(an)){i.error(an+" is not a function")}}var ao=Object(ak),aj=ao.length>>>0,M=new Array(aj),am=0;while(am<aj){if(am in ao){M[am]=an.call(al,ao[am],am,ao)}am++}return M}},R=function(ak,an,al){if(0&&aa){return aa.call(ak,an,al)}else{if(Y(ak)||s(ak)){i.error("Array.prototype.some called on null or undefined")}else{if(!p(an)){i.error(an+" is not a function")}}var ao=Object(ak),aj=ao.length>>>0,M=new Array(aj),am=0;while(am<aj){if(am in ao&&an.call(al,ao[am],am,ao)){return x}am++}return ad}},E=function(ak,an,al){if(0&&ai){return ai.call(ak,an,al)}else{if(Y(ak)||s(ak)){i.error("Array.prototype.every called on null or undefined")}else{if(!p(an)){i.error(an+" is not a function")}}var ao=Object(ak),aj=ao.length>>>0,M=new Array(aj),am=0;while(am<aj){if(am in ao&&!an.call(al,ao[am],am,ao)){return ad}am++}return x}},G=function(aj,ao,ak){if(0&&k){return k.call(aj,ao,ak)}else{if(Y(aj)||s(aj)){i.error("Array.prototype.filter called on null or undefined")}else{if(!p(ao)){i.error(ao+" is not a function")}}var ap=Object(aj),M=ap.length>>>0,al=0,am=[],an;while(al<M){if(al in ap){an=ap[al];if(ao.call(ak,an,al,ap)){am.push(an)}}al++}return am}},q=function(aj,ak){if(0&&V){var al=N.call(arguments,1);return V.apply(aj,al)}else{var M=aj.length,am=0;if(arguments.length>2){am=parseInt(arguments[2],10);am=isNaN(am)?0:am}if(M===0||am>M){return -1}if(am<0){am+=M}for(;am<M;am++){if(aj[am]===ak){return am}}return -1}},J=function(aj,ak){if(0&&P){var al=N.call(arguments,1);return P.apply(aj,al)}else{var M=aj.length,am=M;if(M===0||am===0){return -1}if(arguments.length>2){am=parseInt(arguments[2],10);am=isNaN(am)?M:am}if(am<0){am+=M}for(;am>0;am--){if(aj[am]===ak){return am}}return -1}},f=function(aj,M){if(z){var an=N.call(arguments,2);return z.apply(aj,[M].concat(an))}else{if(!p(aj)){i.error("Function.prototype.bind - what is trying to be bound is not callable")}var an=N.call(arguments,2),am=aj,ak=function(){},al=function(){return am.apply(aj instanceof ak&&M?aj:M||d,an.concat(N.call(arguments,0)))};ak.prototype=aj.prototype;al.prototype=new ak();return al}},Z=function(al){var M=N.call(arguments,1),aj=arguments.length,ak=x;if(y(M[aj-2],"Boolean")){ak=M[aj-2];M=M.slice(0,aj-2)}c(M,function(ao,am){if(S(ao)){for(var an in ao){if(!al.hasOwnProperty(an)||ak){al[an]=ao[an]}}}});return al},l=function(ak,aj){var al=function(){};al.prototype=aj.prototype;var M=ak.prototype;ak.prototype=new al();Z(ak.prototype,M,x);ak.prototype.constructor=ak;ak.$parent=aj;return ak},c=function(am,al,ak){var aj,M;ak=ak||d;if(!S(am)){return}if(t&&(y(am,"Array")||y(am,"Arguments"))){t.call(am,al,ak)}else{if(y(am,"Array")||y(am,"Arguments")){var an=N.call(am,0);for(aj=0,M=an.length;aj<M;aj++){al.call(ak,an[aj],aj,an)}}else{for(aj in am){if(am.hasOwnProperty(aj)){al.call(ak,am[aj],aj,am)}}}}};Z(i,{is:y,isNull:Y,isUndefined:s,isArray:v,isObject:S,isFunction:p,isEmptyObject:H,isEmpty:r,trim:a,bind:f,mix:Z,extend:l,map:A,some:R,every:E,filter:G,forEach:c,indexOf:q,lastIndexOf:J});var w={},ae=function(M,ak){var aj=[];if(M.length>1){aj=N.call(M).slice(1)}aj.unshift(ak+"_"+M[0]);return aj},e={on:function(M,aj){if(!(M in w)){w[M]=[]}w[M].push(aj)},off:function(M,aj){if(!(M in w)||w[M].length===0){return}if(!aj){w[M]=[]}else{c(w[M],function(al,ak){if(al==aj){w[M][ak]=null}})}},once:function(aj,ak){var al=this,M=function(){al.off(aj,M);ak()};return this.on(aj,M)},fire:function(M){if(!(M in w)||w[M].length===0){return}var aj=[];if(arguments.length>0){aj=N.call(arguments).slice(1)}c(w[M],function(al,ak){if(p(al)){al.apply(d,aj)}})}};var U=i.Event=function(ak){if(!S(ak)&&!p(ak)){i.error("only can bind event on object or function:"+ak)}if(!ak.__event_id){ak.__event_id=I()}var M={},aj=ak.__event_id;c(e,function(am,al){M[al]=function(){return am.apply(e,ae(arguments,"objectevent_"+aj))}});return M};var ab={};c(e,function(aj,M){ab[M]=function(){return aj.apply(e,ae(arguments,"normalevent"))}});Z(i.Event,ab);i.events=w;var u=i.Modules={};function C(M){this.id="";this.depends=[];this.factory=null;this.status=D;this.instantiated=ad;Z(this,M);this.instance=this.instantiated?this.factory:null;i.debug(this.id+" defined.")}C.prototype={load:function(){this.status=T;U.fire(this.id+" loaded");i.debug(this.id+" loaded.")},getInstance:function(){if(!this.instantiated){var aj={exports:{}},M=this.factory.call(d,b,aj.exports,aj);if(H(aj.exports)){aj.exports=M}this.instance=aj.exports;this.instantiated=true}return this.instance}};function b(M){if(!(M in u)||u[M].status!==T){i.error("can not require an unloaded module:"+M)}return u[M].getInstance()}b.async=function(M,aj){if(y(M,"String")){M=M.split(",")}if(!y(M,"Array")){i.error("module async require invalid:"+M)}g(M,function(){var ak=A(M,function(al){return b(al)});aj.apply(d,ak)});i.fetchModules(M)};var Q=d.define=function(am,M){if(!y(am,"String")){i.error("module id invalid:"+am)}if(!p(M)&&!S(M)){i.error("module "+am+" factory invalid")}if(am in u){i.info("module "+am+" has been defined");return}var al=[];if(p(M)){al=ah(M)}var ak=new C({id:am,depends:al,factory:M,status:al.length?D:T,instantiated:p(M)?ad:x});u[am]=ak;if(ak.status===D){var aj=x;c(al,function(an){if(!(an in u)||(u[an].status!==T&&!X(am,an))){U.on(an+" loaded",function(){ag(ak)});aj=ad}});if(aj){ak.load()}}else{ak.load()}};var ah=function(am){var aj=a(am.toString()),al=aj.indexOf(")"),ao=aj.substr(0,al+1),M=ao.match(/\(\s*([^\)]*)\s*\)/);if(!Y(M)){var ar=a(M[1]);if(ar.length>0){var an=ar.split(","),aq=a(an[0]),at=new RegExp("\\b"+aq+"\\s*\\(\\s*['\"]([^\\)]+)['\"]\\s*\\)","g");var ap,ak=[];while((ap=at.exec(aj))!==null){ak.push(a(ap[1]))}return ak}}return[]};var X=function(an,al){var M=u[al],aj=M.depends,am=aj.length;if(am===0){return ad}else{if(q(aj,an)!=-1){return x}else{for(var ak=0;ak<am;ak++){if((aj[ak] in u)&&X(an,aj[ak])){return x}}return ad}}};var ag=function(aj){var M=x,ak=aj.depends;c(ak,function(al){if(!(al in u)||u[al].status!==T){M=ad}});if(M){aj.load()}};C.waiting=function(){var M=[];c(u,function(ap,al){if(ap.status===D){var ao={id:al,wait:[]},an,ak;for(var am=0,aj=ap.depends.length;am<aj;am++){an=ap.depends[am];if(an in u){if(u[an].status===D){ao.wait.push({id:an,status:D})}}else{ao.wait.push({id:an,status:B})}}M.push(ao)}});return M};C.loaded=function(){var M=[];c(u,function(ak,aj){if(ak.status===T){M.push({id:aj,depends:ak.depends})}});return M};i.Module=C;i.closure=function(ak,M){var al=[];if(!p(ak)){i.error("M.closure is for function execution.")}var aj=ah(ak);if(H(aj)){ak(b)}else{g(aj,function(){ak(b)})}if(M&&al.length>0){i.fetchModules(al)}};var O=[];var g=function(aj,al){if(!p(al)){return ad}var ak=x,M={moduleIds:{},callback:al};c(aj,function(am){if(!(am in u)||u[am].status!==T){M.moduleIds[am]=x;U.on(am+" loaded",function(){K(am)})}});if(!H(M.moduleIds)){O.push(M)}else{al()}};var K=function(M){c(O,function(aj,ak){if(M in aj.moduleIds){delete aj.moduleIds[M]}if(H(aj.moduleIds)){aj.callback();O.splice(ak,1)}})};C.closureWaiting=function(){return O};var af=[];i.fetchModules=function(M){var aj=[];c(M,function(ak){if(q(af,ak)==-1&&!(ak in u)){aj.push(ak);af.push(ak)}});if(aj.length>0){i.config.fetchModules(aj)}};i.fetching=function(){var M=[];c(af,function(aj){if(!(aj in u)){M.push(aj)}});return M};i.config={};Z(i.config,{debug:ad,fetchModules:ac})}(window));(function(b){if(!b.M||!b.jQuery){return}var i=b.M,f=b.jQuery;function c(){i.windowFocused=true}function g(){i.windowFocused=false}i.windowFocused=true;if("addEventListener" in window){window.addEventListener("focus",c,false);window.addEventListener("blur",g,false)}else{if("attachEvent" in document){document.attachEvent("onfocusin",c);document.attachEvent("onfocusout",g)}}i.config.fetchModules=function(o,p){if(i.is(o,"String")){o=[o]}f.get("/ajax/ajax_fetch_cssjs.php",{js_list:o},function(q){q=f.parseJSON(q);if("js_list" in q){i.loadResource(q.js_list,p)}})};i.config.fetchJS=function(o,p){return i.config.fetchModules(o,p)};i.config.fetchCSS=function(o,p){if(i.is(o,"String")){o=[o]}f.get("/ajax/ajax_fetch_cssjs.php",{css_list:o},function(q){q=f.parseJSON(q);if("css_list" in q){i.loadResource(q.css_list,p)}})};var k=b.document,j=k.getElementsByTagName("head")[0]||k.documentElement,m=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,h=[];var n=function(o){return o.search(/\.css(\?[^\.\?]*)?$/)!==-1},e=function(s,p){var r=s.sheet,o=false;if(m&&r){o=true}else{if(r){try{if(r.cssRules){o=true}}catch(q){if(q.name==="NS_ERROR_DOM_SECURITY_ERR"){o=true}}}}setTimeout(function(){if(o){a(p)}else{e(s,p)}},20)},d=function(o,q){var p=k.createElement(q?"link":"script");if(q){p.rel="stylesheet";p.href=o}else{p.async=true;p.src=o}j.appendChild(p);return p},l=function(o,p){if(!o||(i.is(o,"Array")&&o.length===0)){p()}else{if(!i.is(o,"Array")){o=[o]}if(typeof p=="function"){h.push({urls:o,callback:p})}i.forEach(o,function(q){var s=n(q),r=d(q,s),t="onload" in r;if(s&&(m||!t)){setTimeout(function(){e(r)},1)}else{if(t){r.onload=function(){r.onload=null;a(q)}}else{r.onreadystatechange=function(){if(/loaded|complete/.test(r.readyState)){r.onreadystatechange=null;a(q)}}}}})}},a=function(o){i.forEach(h,function(s,q){var t=s.urls,u=s.callback;for(var r=0,p=t.length;r<p;r++){if(o==t[r]){t.splice(r,1)}}if(!t.length){u();h.splice(q,1)}})};i.loadResource=l}(window));